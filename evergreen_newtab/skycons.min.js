!function(n){"use strict";var t,o,i,a;i=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,a=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame,i&&a?(t=function(n,t){var o={value:null};return function t(){o.value=i(t),n()}(),o},o=function(n){a(n.value)}):(t=setInterval,o=clearInterval);var e=2*Math.PI,r=2/Math.sqrt(2);function l(n,t,o,i,a){n.beginPath(),n.moveTo(t,o),n.lineTo(i,a),n.stroke()}function h(n,t,o,i,a,r,l,h){var s=Math.cos(t*e);!function(n,t,o,i){n.beginPath(),n.arc(t,o,i,0,e,!1),n.fill()}(n,o-Math.sin(t*e)*a,i+s*r+.5*(h-=l),l+(1-.5*s)*h)}function s(n,t,o,i,a,e,r,l){var s;for(s=5;s--;)h(n,t+s/5,o,i,a,e,r,l)}function c(n,t,o,i,a,e,r){t/=3e4;var l=.21*a,h=.12*a,c=.24*a,u=.28*a;n.fillStyle=r,s(n,t,o,i,l,h,c,u),n.globalCompositeOperation="destination-out",s(n,t,o,i,l,h,c-e,u-e),n.globalCompositeOperation="source-over"}function u(n,t,o,i,a,r,h){t/=12e4;var s,c,u,d,v=.25*a-.5*r,f=.32*a+.5*r,m=.5*a-.5*r;for(n.strokeStyle=h,n.lineWidth=r,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.arc(o,i,v,0,e,!1),n.stroke(),s=8;s--;)c=(t+s/8)*e,l(n,o+(u=Math.cos(c))*f,i+(d=Math.sin(c))*f,o+u*m,i+d*m)}function d(n,t,o,i,a,l,h){t/=15e3;var s=.29*a-.5*l,c=.05*a,u=Math.cos(t*e),d=u*e/-16;n.strokeStyle=h,n.lineWidth=l,n.lineCap="round",n.lineJoin="round",o+=u*c,n.beginPath(),n.arc(o,i,s,d+e/8,d+7*e/8,!1),n.arc(o+Math.cos(d)*s*r,i+Math.sin(d)*s*r,s,d+5*e/8,d+3*e/8,!0),n.closePath(),n.stroke()}function v(n,t,o,i,a,r,l){t/=1350;var h,s,c,u,d=.16*a,v=11*e/12,f=7*e/12;for(n.fillStyle=l,h=4;h--;)c=o+(h-1.5)/1.5*(1===h||2===h?-1:1)*d,u=i+(s=(t+h/4)%1)*s*a,n.beginPath(),n.moveTo(c,u-1.5*r),n.arc(c,u,.75*r,v,f,!1),n.fill()}function f(n,t,o,i,a,r,h){var s,c,u,d,v=.16*a,f=.75*r,m=(t/=3e3)*e*.7,g=Math.cos(m)*f,M=Math.sin(m)*f,w=m+e/3,_=Math.cos(w)*f,S=Math.sin(w)*f,p=m+2*e/3,C=Math.cos(p)*f,A=Math.sin(p)*f;for(n.strokeStyle=h,n.lineWidth=.5*r,n.lineCap="round",n.lineJoin="round",s=4;s--;)c=(t+s/4)%1,l(n,(u=o+Math.sin((c+s/4)*e)*v)-g,(d=i+c*a)-M,u+g,d+M),l(n,u-_,d-S,u+_,d+S),l(n,u-C,d-A,u+C,d+A)}var m=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],g=[{start:.36,end:.11},{start:.56,end:.16}];function M(n,t,o,i,a,r,l,h,s,c){t/=2500;var u,d,v,f,M=m[l],w=(t+l-g[l].start)%h,_=(t+l-g[l].end)%h,S=(t+l)%h;if(n.strokeStyle=s,n.lineWidth=r,n.lineCap="round",n.lineJoin="round",w<1){if(n.beginPath(),w*=M.length/2-1,w-=u=Math.floor(w),u*=2,u+=2,n.moveTo(o+(M[u-2]*(1-w)+M[u]*w)*a,i+(M[u-1]*(1-w)+M[u+1]*w)*a),_<1){for(_*=M.length/2-1,_-=d=Math.floor(_),d*=2,d+=2,f=u;f!==d;f+=2)n.lineTo(o+M[f]*a,i+M[f+1]*a);n.lineTo(o+(M[d-2]*(1-_)+M[d]*_)*a,i+(M[d-1]*(1-_)+M[d+1]*_)*a)}else for(f=u;f!==M.length;f+=2)n.lineTo(o+M[f]*a,i+M[f+1]*a);n.stroke()}else if(_<1){for(n.beginPath(),_*=M.length/2-1,_-=d=Math.floor(_),d*=2,d+=2,n.moveTo(o+M[0]*a,i+M[1]*a),f=2;f!==d;f+=2)n.lineTo(o+M[f]*a,i+M[f+1]*a);n.lineTo(o+(M[d-2]*(1-_)+M[d]*_)*a,i+(M[d-1]*(1-_)+M[d+1]*_)*a),n.stroke()}S<1&&(S*=M.length/2-1,S-=v=Math.floor(S),v*=2,function(n,t,o,i,a,r,l){var h=a/8,s=h/3,c=2*s,u=t%1*e,d=Math.cos(u),v=Math.sin(u);n.fillStyle=l,n.strokeStyle=l,n.lineWidth=r,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.arc(o,i,h,u,u+Math.PI,!1),n.arc(o-s*d,i-s*v,c,u+Math.PI,u,!1),n.arc(o+c*d,i+c*v,s,u+Math.PI,u,!0),n.globalCompositeOperation="destination-out",n.fill(),n.globalCompositeOperation="source-over",n.stroke()}(n,t,o+(M[(v+=2)-2]*(1-S)+M[v]*S)*a,i+(M[v-1]*(1-S)+M[v+1]*S)*a,a,r,c))}function w(n,t,o,i,a,e){var r=1-(t/=1e3)%1,l=a/25,h=Math.floor(t%4),s=s=o+(h-1.5)/1.5*(1===h||2===h?-1:1)*a*.16,c=i;n.fillStyle=e,n.globalAlpha=r,n.beginPath(),n.moveTo(s-l,c-5*l),n.lineTo(s-3*l,c),n.lineTo(s,c),n.lineTo(s-2*l,c+5*l),n.lineTo(s+3*l,c-l),n.lineTo(s,c-l),n.lineTo(s+2*l,c-5*l),n.closePath(),n.fill(),n.globalAlpha=1}var _=function(n){n=n||{},this.list=[],this.interval=null,this.monochrome=void 0===n.monochrome||n.monochrome,n.colors=n.colors||{},this.colors={main:n.colors.main||"#111",moon:n.colors.moon||"#353545",fog:n.colors.fog||"#CCC",fogbank:n.colors.fogbank||"#AAA",light_cloud:n.colors.light_cloud||"#888",cloud:n.colors.cloud||"#666",dark_cloud:n.colors.dark_cloud||"#444",thunder:n.colors.thunder||"#FF0",snow:n.colors.snow||"#C2EEFF",hail:n.colors.hail||"#CCF",sleet:n.colors.sleet||"#C2EEFF",wind:n.colors.wind||"#777",leaf:n.colors.leaf||"#2C5228",rain:n.colors.rain||"#7FDBFF",sun:n.colors.sun||"#FFDC00"},this.monochrome?this.color=n.color||this.colors.main:this.color=this.colors,this.resizeClear=!(!n||!n.resizeClear)};_.CLEAR_DAY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);u(n,t,.5*i,.5*a,e,.08*e,o.sun||o)},_.CLEAR_NIGHT=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);d(n,t,.5*i,.5*a,e,.08*e,o.moon||o)},_.PARTLY_CLOUDY_DAY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);u(n,t,.625*i,.375*a,.75*e,.08*e*.9,o.sun||o),c(n,t,.375*i,.625*a,.75*e,.08*e*.9,o.light_cloud||o)},_.PARTLY_CLOUDY_NIGHT=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);d(n,t,.667*i,.375*a,.75*e,.08*e*.9,o.moon||o),c(n,t,.375*i,.625*a,.75*e,.08*e*.9,o.light_cloud||o)},_.CLOUDY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);c(n,t,.5*i,.5*a,e,.08*e,o.light_cloud||o||o)},_.RAIN=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);v(n,t,.5*i,.37*a,.9*e,.08*e,o.rain||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.cloud||o)},_.SHOWERS_DAY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);u(n,t,.625*i,.325*a,.65*e,.08*e*.8,o.sun||o),v(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.rain||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.cloud||o)},_.SHOWERS_NIGHT=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);d(n,t,.667*i,.325*a,.75*e,.08*e*.8,o.moon||o),v(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.rain||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.cloud||o)},_.SLEET=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);!function(n,t,o,i,a,e,r){t/=750;var h,s,c,u,d=.1875*a;for(n.strokeStyle=r,n.lineWidth=.5*e,n.lineCap="round",n.lineJoin="round",h=4;h--;)s=(t+h/4)%1,l(n,c=Math.floor(o+(h-1.5)/1.5*(1===h||2===h?-1:1)*d)+.5,(u=i+s*a)-1.5*e,c,u+1.5*e)}(n,t,.5*i,.37*a,.9*e,.08*e,o.sleet||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.cloud||o)},_.RAIN_SNOW=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);v(n,t,.5*i,.37*a,.9*e,.08*e,o.rain||o),f(n,t,.5*i,.37*a,.9*e,.08*e,o.snow||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.cloud||o)},_.RAIN_SNOW_SHOWERS_DAY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);u(n,t,.625*i,.325*a,.65*e,.08*e*.8,o.sun||o),f(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.snow||o),v(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.rain||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.cloud||o)},_.RAIN_SNOW_SHOWERS_NIGHT=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);d(n,t,.667*i,.325*a,.75*e,.08*e*.8,o.moon||o),f(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.snow||o),v(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.rain||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.cloud||o)},_.SNOW=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);f(n,t,.5*i,.37*a,.9*e,.08*e,o.snow||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.cloud||o)},_.SNOW_SHOWERS_DAY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);u(n,t,.625*i,.325*a,.65*e,.08*e*.8,o.sun||o),f(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.snow||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.cloud||o)},_.SNOW_SHOWERS_NIGHT=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);d(n,t,.667*i,.325*a,.75*e,.08*e*.8,o.moon||o),f(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.snow||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.cloud||o)},_.WIND=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);M(n,t,.5*i,.5*a,e,.08*e,0,2,o.wind||o,o.leaf||o),M(n,t,.5*i,.5*a,e,.08*e,1,2,o.wind||o,o.leaf||o)},_.FOG=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,r=Math.min(i,a),h=.08*r;!function(n,t,o,i,a,e,r){t/=3e4;var l=.21*a,h=.06*a,c=.21*a,u=.28*a;n.fillStyle=r,s(n,t,o,i,l,h,c,u),n.globalCompositeOperation="destination-out",s(n,t,o,i,l,h,c-e,u-e),n.globalCompositeOperation="source-over"}(n,t,.5*i,.32*a,.75*r,.9*h,o.light_cloud||o),function(n,t,o,i,a,r,h){t/=5e3;var s=Math.cos(t*e)*a*.02,c=Math.cos((t+.25)*e)*a*.02,u=Math.cos((t+.5)*e)*a*.02,d=Math.cos((t+.75)*e)*a*.02,v=.936*i,f=Math.floor(v-.5*r)+.5,m=Math.floor(v-2.5*r)+.5;n.strokeStyle=h,n.lineWidth=r,n.lineCap="round",n.lineJoin="round",l(n,s+.2*o+.5*r,f,c+.8*o-.5*r,f),l(n,u+.2*o+.5*r,m,d+.8*o-.5*r,m)}(n,t,i,a,r,h,o.fog||o)},_.THUNDER=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);w(n,t,.5*i,.825*a,.9*e,o.thunder||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.dark_cloud||o)},_.THUNDER_RAIN=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);v(n,t,.5*i,.5*a,.9*e,.08*e,o.rain||o),w(n,t,.5*i,.825*a,.9*e,o.thunder||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.dark_cloud||o)},_.THUNDER_SHOWERS_DAY=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);w(n,t,.375*i,.85*a,.7*e,o.thunder||o),u(n,t,.625*i,.325*a,.65*e,.08*e*.8,o.sun||o),v(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.rain||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.dark_cloud||o)},_.THUNDER_SHOWERS_NIGHT=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);w(n,t,.375*i,.85*a,.7*e,o.thunder||o),d(n,t,.667*i,.325*a,.75*e,.08*e*.8,o.moon||o),v(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.rain||o),c(n,t,.375*i,.5*a,.7*e,.08*e*.9,o.dark_cloud||o)},_.HAIL=function(n,t,o){var i=n.canvas.width,a=n.canvas.height,e=Math.min(i,a);!function(n,t,o,i,a,e,r){t/=900;var l,h,s,c,u=.16*a;for(n.fillStyle=r,l=8;l--;)s=o+(l-3)/3*(1===l||3===l||4===l||6===l?-1:1)*u,c=i+(h=(t+l/8)%1)*h*a,n.beginPath(),n.moveTo(s,c),n.arc(s,c,.4*e,0,2*Math.PI,!1),n.fill()}(n,t,.5*i,.37*a,.9*e,.08*e,o.hail||o),c(n,t,.5*i,.37*a,.9*e,.08*e,o.cloud||o)},_.prototype={_determineDrawingFunction:function(n){return"string"==typeof n&&(n=_[n.toUpperCase().replace(/-/g,"_")]||null),n},add:function(n,t){var o;"string"==typeof n&&(n=document.getElementById(n)),null!=n&&"function"==typeof(t=this._determineDrawingFunction(t))&&(o={element:n,context:n.getContext("2d"),drawing:t},this.list.push(o),this.draw(o,500))},set:function(n,t){var o;for("string"==typeof n&&(n=document.getElementById(n)),o=this.list.length;o--;)if(this.list[o].element===n)return this.list[o].drawing=this._determineDrawingFunction(t),void this.draw(this.list[o],500);this.add(n,t)},remove:function(n){var t;for("string"==typeof n&&(n=document.getElementById(n)),t=this.list.length;t--;)if(this.list[t].element===n)return void this.list.splice(t,1)},draw:function(n,t){var o=n.context.canvas;this.resizeClear?o.width=o.width:n.context.clearRect(0,0,o.width,o.height),n.drawing(n.context,t,this.color)},play:function(){var n=this;this.pause(),this.interval=t(function(){var t,o=Date.now();for(t=n.list.length;t--;)n.draw(n.list[t],o)},1e3/60)},pause:function(){this.interval&&(o(this.interval),this.interval=null)}},n.Skycons=_}(this);